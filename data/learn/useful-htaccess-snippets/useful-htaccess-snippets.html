<!DOCTYPE html>
<html lang="en">

<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WRJ69W24DT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-WRJ69W24DT');
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A collection of useful .htaccess snippets, all in one place. NOTE: files are for people that do not have rights to edit the main server configuration file....">
    <meta name="robots" content="index, follow">
    <title>.htaccess Snippets [![Awesome](https://cdn.rawgit.com/sindresorhus/awesome/d7305f38d29fed78fa85652e3a63e154dd8e8829/media/badge.svg)](https://github.com/sindresorhus/awesome) - CS Archive</title>
    <link rel="stylesheet" href="../markdown-page.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<body>
    <!-- SEO: Static content for search engines -->
    <article id="content">
        <noscript>
            <h1>.htaccess Snippets <a href="https://github.com/sindresorhus/awesome"><img alt="Awesome" src="https://cdn.rawgit.com/sindresorhus/awesome/d7305f38d29fed78fa85652e3a63e154dd8e8829/media/badge.svg" /></a></h1>
<p>A collection of useful .htaccess snippets, all in one place.</p>
<p><strong>NOTE</strong>: <code>.htaccess</code> files are for people that do not have rights to edit the main server configuration file. They are intrinsically slower and more complicated than using the main config. Please see the <a href="https://httpd.apache.org/docs/current/howto/htaccess.html">howto in the httpd documentation</a> for further details.</p>
<p><strong>Disclaimer</strong>: While dropping the snippet into an <code>.htaccess</code> file is most of the time sufficient, there are cases when certain modifications might be required. Use at your own risk.</p>
<p><strong>IMPORTANT</strong>: Apache 2.4 introduces a few breaking changes, most notably in access control configuration. For more information, check the <a href="https://httpd.apache.org/docs/2.4/upgrading.html">upgrading document</a> as well as <a href="https://github.com/phanan/htaccess/issues/2">this issue</a>.</p>
<h2>Credits</h2>
<p>What we are doing here is mostly collecting useful snippets from all over the interwebs (for example, a good chunk is from <a href="https://github.com/h5bp/server-configs-apache">Apache Server Configs</a>) into one place. While we’ve been trying to credit where due, things might be missing. If you believe anything here is your work and credits should be given, let us know, or just send a PR.</p>
<h2>Table of Contents</h2>
<ul>
<li><a href="#rewrite-and-redirection">Rewrite and Redirection</a><ul>
<li><a href="#force-www">Force www</a></li>
<li><a href="#force-www-in-a-generic-way">Force www in a Generic Way</a></li>
<li><a href="#force-non-www">Force non-www</a></li>
<li><a href="#force-non-www-in-a-generic-way">Force non-www in a Generic Way</a></li>
<li><a href="#force-https">Force HTTPS</a></li>
<li><a href="#force-https-behind-a-proxy">Force HTTPS Behind a Proxy</a></li>
<li><a href="#force-trailing-slash">Force Trailing Slash</a></li>
<li><a href="#remove-trailing-slash">Remove Trailing Slash</a></li>
<li><a href="#redirect-a-single-page">Redirect a Single Page</a></li>
<li><a href="#redirect-using-redirectmatch">Redirect Using RedirectMatch</a></li>
<li><a href="#alias-a-single-directory">Alias a Single Directory</a></li>
<li><a href="#alias-paths-to-script">Alias Paths to Script</a></li>
<li><a href="#redirect-an-entire-site">Redirect an Entire Site</a></li>
<li><a href="#alias-clean-urls">Alias "Clean" URLs</a></li>
<li><a href="#exclude-url-from-redirection">Exclude a URL from Redirection</a></li>
</ul>
</li>
<li><a href="#security">Security</a><ul>
<li><a href="#deny-all-access">Deny All Access</a></li>
<li><a href="#deny-all-access-except-yours">Deny All Access Except Yours</a></li>
<li><a href="#allow-all-access-except-spammers">Allow All Access Except Spammers'</a></li>
<li><a href="#deny-access-to-hidden-files-and-directories">Deny Access to Hidden Files and Directories</a></li>
<li><a href="#deny-access-to-backup-and-source-files">Deny Access to Backup and Source Files</a></li>
<li><a href="#disable-directory-browsing">Disable Directory Browsing</a></li>
<li><a href="#disable-image-hotlinking">Disable Image Hotlinking</a></li>
<li><a href="#disable-image-hotlinking-for-specific-domains">Disable Image Hotlinking for Specific Domains</a></li>
<li><a href="#password-protect-a-directory">Password Protect a Directory</a></li>
<li><a href="#password-protect-a-file-or-several-files">Password Protect a File or Several Files</a></li>
<li><a href="#block-visitors-by-referrer">Block Visitors by Referrer</a></li>
<li><a href="#prevent-framing-the-site">Prevent Framing the Site</a></li>
</ul>
</li>
<li><a href="#performance">Performance</a><ul>
<li><a href="#compress-text-files">Compress Text Files</a></li>
<li><a href="#set-expires-headers">Set Expires Headers</a></li>
<li><a href="#turn-etags-off">Turn eTags Off</a></li>
</ul>
</li>
<li><a href="#miscellaneous">Miscellaneous</a><ul>
<li><a href="#set-php-variables">Set PHP Variables</a></li>
<li><a href="#custom-error-pages">Custom Error Pages</a></li>
<li><a href="#force-downloading">Force Downloading</a></li>
<li><a href="#prevent-downloading">Prevent Downloading</a></li>
<li><a href="#allow-cross-domain-fonts">Allow Cross-Domain Fonts</a></li>
<li><a href="#auto-utf-8-encode">Auto UTF-8 Encode</a></li>
<li><a href="#switch-to-another-php-version">Switch to Another PHP Version</a></li>
<li><a href="#disable-internet-explorer-compatibility-view">Disable Internet Explorer Compatibility View</a></li>
<li><a href="#serve-webp-images">Serve WebP Images</a></li>
</ul>
</li>
</ul>
<h2>Rewrite and Redirection</h2>
<p>Note: It is assumed that you have <code>mod_rewrite</code> installed and enabled.</p>
<h3>Force www</h3>
<pre><code class="language-apacheconf">RewriteEngine on
RewriteCond %{HTTP_HOST} ^example\.com [NC]
RewriteRule ^(.*)$ http://www.example.com/$1 [L,R=301,NC]
</code></pre>
<h3>Force www in a Generic Way</h3>
<pre><code class="language-apacheconf">RewriteCond %{HTTP_HOST} !^$
RewriteCond %{HTTP_HOST} !^www\. [NC]
RewriteCond %{HTTPS}s ^on(s)|
RewriteRule ^ http%1://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</code></pre>
<p>This works for <em>any</em> domain. <a href="https://stackoverflow.com/questions/4916222/htaccess-how-to-force-www-in-a-generic-way">Source</a></p>
<h3>Force non-www</h3>
<p>It’s <a href="http://www.sitepoint.com/domain-www-or-no-www/">still</a> <a href="https://devcenter.heroku.com/articles/apex-domains">open</a> <a href="http://yes-www.org/">for</a> <a href="http://no-www.org/">debate</a> whether www or non-www is the way to go, so if you happen to be a fan of bare domains, here you go:</p>
<pre><code class="language-apacheconf">RewriteEngine on
RewriteCond %{HTTP_HOST} ^www\.example\.com [NC]
RewriteRule ^(.*)$ http://example.com/$1 [L,R=301]
</code></pre>
<h3>Force non-www in a Generic Way</h3>
<p>``` apacheconf
RewriteEngine on
RewriteCond %{HTTP_HOST} ^www.
RewriteCond %{HTTPS}s ^on(s)|off</p>
        </noscript>
        <div id="dynamic-content">
            <h1>.htaccess Snippets <a href="https://github.com/sindresorhus/awesome"><img alt="Awesome" src="https://cdn.rawgit.com/sindresorhus/awesome/d7305f38d29fed78fa85652e3a63e154dd8e8829/media/badge.svg" /></a></h1>
<p>A collection of useful .htaccess snippets, all in one place.</p>
<p><strong>NOTE</strong>: <code>.htaccess</code> files are for people that do not have rights to edit the main server configuration file. They are intrinsically slower and more complicated than using the main config. Please see the <a href="https://httpd.apache.org/docs/current/howto/htaccess.html">howto in the httpd documentation</a> for further details.</p>
<p><strong>Disclaimer</strong>: While dropping the snippet into an <code>.htaccess</code> file is most of the time sufficient, there are cases when certain modifications might be required. Use at your own risk.</p>
<p><strong>IMPORTANT</strong>: Apache 2.4 introduces a few breaking changes, most notably in access control configuration. For more information, check the <a href="https://httpd.apache.org/docs/2.4/upgrading.html">upgrading document</a> as well as <a href="https://github.com/phanan/htaccess/issues/2">this issue</a>.</p>
<h2>Credits</h2>
<p>What we are doing here is mostly collecting useful snippets from all over the interwebs (for example, a good chunk is from <a href="https://github.com/h5bp/server-configs-apache">Apache Server Configs</a>) into one place. While we’ve been trying to credit where due, things might be missing. If you believe anything here is your work and credits should be given, let us know, or just send a PR.</p>
<h2>Table of Contents</h2>
<ul>
<li><a href="#rewrite-and-redirection">Rewrite and Redirection</a><ul>
<li><a href="#force-www">Force www</a></li>
<li><a href="#force-www-in-a-generic-way">Force www in a Generic Way</a></li>
<li><a href="#force-non-www">Force non-www</a></li>
<li><a href="#force-non-www-in-a-generic-way">Force non-www in a Generic Way</a></li>
<li><a href="#force-https">Force HTTPS</a></li>
<li><a href="#force-https-behind-a-proxy">Force HTTPS Behind a Proxy</a></li>
<li><a href="#force-trailing-slash">Force Trailing Slash</a></li>
<li><a href="#remove-trailing-slash">Remove Trailing Slash</a></li>
<li><a href="#redirect-a-single-page">Redirect a Single Page</a></li>
<li><a href="#redirect-using-redirectmatch">Redirect Using RedirectMatch</a></li>
<li><a href="#alias-a-single-directory">Alias a Single Directory</a></li>
<li><a href="#alias-paths-to-script">Alias Paths to Script</a></li>
<li><a href="#redirect-an-entire-site">Redirect an Entire Site</a></li>
<li><a href="#alias-clean-urls">Alias "Clean" URLs</a></li>
<li><a href="#exclude-url-from-redirection">Exclude a URL from Redirection</a></li>
</ul>
</li>
<li><a href="#security">Security</a><ul>
<li><a href="#deny-all-access">Deny All Access</a></li>
<li><a href="#deny-all-access-except-yours">Deny All Access Except Yours</a></li>
<li><a href="#allow-all-access-except-spammers">Allow All Access Except Spammers'</a></li>
<li><a href="#deny-access-to-hidden-files-and-directories">Deny Access to Hidden Files and Directories</a></li>
<li><a href="#deny-access-to-backup-and-source-files">Deny Access to Backup and Source Files</a></li>
<li><a href="#disable-directory-browsing">Disable Directory Browsing</a></li>
<li><a href="#disable-image-hotlinking">Disable Image Hotlinking</a></li>
<li><a href="#disable-image-hotlinking-for-specific-domains">Disable Image Hotlinking for Specific Domains</a></li>
<li><a href="#password-protect-a-directory">Password Protect a Directory</a></li>
<li><a href="#password-protect-a-file-or-several-files">Password Protect a File or Several Files</a></li>
<li><a href="#block-visitors-by-referrer">Block Visitors by Referrer</a></li>
<li><a href="#prevent-framing-the-site">Prevent Framing the Site</a></li>
</ul>
</li>
<li><a href="#performance">Performance</a><ul>
<li><a href="#compress-text-files">Compress Text Files</a></li>
<li><a href="#set-expires-headers">Set Expires Headers</a></li>
<li><a href="#turn-etags-off">Turn eTags Off</a></li>
</ul>
</li>
<li><a href="#miscellaneous">Miscellaneous</a><ul>
<li><a href="#set-php-variables">Set PHP Variables</a></li>
<li><a href="#custom-error-pages">Custom Error Pages</a></li>
<li><a href="#force-downloading">Force Downloading</a></li>
<li><a href="#prevent-downloading">Prevent Downloading</a></li>
<li><a href="#allow-cross-domain-fonts">Allow Cross-Domain Fonts</a></li>
<li><a href="#auto-utf-8-encode">Auto UTF-8 Encode</a></li>
<li><a href="#switch-to-another-php-version">Switch to Another PHP Version</a></li>
<li><a href="#disable-internet-explorer-compatibility-view">Disable Internet Explorer Compatibility View</a></li>
<li><a href="#serve-webp-images">Serve WebP Images</a></li>
</ul>
</li>
</ul>
<h2>Rewrite and Redirection</h2>
<p>Note: It is assumed that you have <code>mod_rewrite</code> installed and enabled.</p>
<h3>Force www</h3>
<pre><code class="language-apacheconf">RewriteEngine on
RewriteCond %{HTTP_HOST} ^example\.com [NC]
RewriteRule ^(.*)$ http://www.example.com/$1 [L,R=301,NC]
</code></pre>
<h3>Force www in a Generic Way</h3>
<pre><code class="language-apacheconf">RewriteCond %{HTTP_HOST} !^$
RewriteCond %{HTTP_HOST} !^www\. [NC]
RewriteCond %{HTTPS}s ^on(s)|
RewriteRule ^ http%1://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</code></pre>
<p>This works for <em>any</em> domain. <a href="https://stackoverflow.com/questions/4916222/htaccess-how-to-force-www-in-a-generic-way">Source</a></p>
<h3>Force non-www</h3>
<p>It’s <a href="http://www.sitepoint.com/domain-www-or-no-www/">still</a> <a href="https://devcenter.heroku.com/articles/apex-domains">open</a> <a href="http://yes-www.org/">for</a> <a href="http://no-www.org/">debate</a> whether www or non-www is the way to go, so if you happen to be a fan of bare domains, here you go:</p>
<pre><code class="language-apacheconf">RewriteEngine on
RewriteCond %{HTTP_HOST} ^www\.example\.com [NC]
RewriteRule ^(.*)$ http://example.com/$1 [L,R=301]
</code></pre>
<h3>Force non-www in a Generic Way</h3>
<p>``` apacheconf
RewriteEngine on
RewriteCond %{HTTP_HOST} ^www.
RewriteCond %{HTTPS}s ^on(s)|off</p>
        </div>
    </article>

    <script>
        // Load full markdown dynamically for users with JS
        const markdownFile = 'useful-htaccess-snippets_README.md';

        fetch(markdownFile)
            .then(response => {
                if (!response.ok) throw new Error('File not found');
                return response.text();
            })
            .then(markdown => {
                document.getElementById('dynamic-content').innerHTML = marked.parse(markdown);
            })
            .catch(err => {
                console.error('Error loading markdown:', err);
                // Static content already visible, no action needed
            });
    </script>
</body>

</html>